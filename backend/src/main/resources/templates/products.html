<!DOCTYPE html>
<html lang="es">

<head>
    {{> components/head-tags}}
    <link rel="stylesheet" routerLink="/styles/searchbar.css">
    <link rel="stylesheet" routerLink="/styles/products.css">
    <link rel="stylesheet" routerLink="/styles/product-card.css">
    <link rel="stylesheet" routerLink="/styles/form.css">
</head>

<body>
    <div class="container no-gap small-padding">
        {{> components/navbar}}

        <div class="query-container">
            <div class="search-bar-container">
                {{> components/searchbar}}
            </div>

            <div class="filters-bar">
                <input type="hidden" name="searchInput" value="{{searchQuery}}">

                <div class="filter-item">
                    <label for="supermarket">Supermercado</label>
                    <div class="radio-buttons">
                        <input type="radio" id="all" name="supermarket" value="" {{^supermarket}}checked{{/supermarket}}>
                        <label for="all">Todos</label>
                        {{#supermarkets}}
                            <input type="radio" id="{{id}}" name="supermarket" value="{{id}}" {{#isSupermarket}}checked{{/isSupermarket}}>
                            <label for="{{id}}">{{name}}</label>
                        {{/supermarkets}}
                    </div>
                </div>

                <div class="filter-row">
                    <div class="filter-item">
                        <label for="minPrice">Precio mínimo</label>
                        <input type="number" step="0.01" id="minPrice" name="minPrice" placeholder="€"
                            value="{{minPrice}}">
                    </div>
                    <div class="filter-item">
                        <label for="maxPrice">Precio máximo</label>
                        <input type="number" step="0.01" id="maxPrice" name="maxPrice" placeholder="€"
                            value="{{maxPrice}}">
                    </div>
                    <div class="filter-item">
                        <span></span>
                        <button id="apply-filters" class="clickable clickable-primary">Aplicar</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid-layout products-container">
            <!-- Products will be rendered here -->
            {{#templateProducts}}
            {{> components/product-card-template}}
            {{/templateProducts}}
        </div>

        <div class="pagination">
            <button id="previous-button" class="clickable clickable-primary">Página anterior</button>
            <span id="page-number"></span>
            <button id="next-button" class="clickable clickable-primary">Página siguiente</button>
        </div>

        {{> components/footer}}
    </div>

    <script src="/scripts/themeToggle.js"></script>
    <script src="/scripts/fetchProducts.js" type="module"></script>
</body>

</html>