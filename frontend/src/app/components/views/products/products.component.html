<p>products works!</p>
<app-searchbar [(searchQuery)]="searchQuery"></app-searchbar>

<div *ngIf="products.length > 0; else noProducts">
  <ul>
    <!-- <li *ngFor="let product of products">
      {{ product.name }} - {{ product.price | currency }}
    </li> -->
  </ul>
</div>

<div class="query-container">
  <div class="search-bar-container">
      <app-searchbar [(searchQuery)]="searchQuery"></app-searchbar>
  </div>
  <div class="filters-bar">
    <input type="text" [(ngModel)]="filters.minPrice" placeholder="Min Price" />
    <input type="text" [(ngModel)]="filters.maxPrice" placeholder="Max Price" />
    <select [(ngModel)]="filters.supermarket">
      <option value="">All Supermarkets</option>
      <option value="Supermarket A">Supermarket A</option>
      <option value="Supermarket B">Supermarket B</option>
    </select>
    <button (click)="applyFilters()">Apply Filters</button>
  </div>
  
  <div class="grid-layout products-container">
    <app-product-card *ngFor="let product of products" [product]="product"></app-product-card>
  </div>
  
  <div class="pagination">
    <button (click)="loadProducts(currentPage - 1)" [disabled]="currentPage === 0">Previous</button>
    <span>Page {{ currentPage + 1 }} of {{ totalPages }}</span>
    <button (click)="loadProducts(currentPage + 1)" [disabled]="isEnd">Next</button>
  </div>
<!-- 
  <div class="filters-bar">
      <input type="hidden" name="searchInput" value="{{searchQuery}}">

      <div class="filter-item">
          <label for="supermarket">Supermercado</label>
          <div class="radio-buttons">
              <input type="radio" id="all" name="supermarket" value="" {{^supermarket}}checked{{/supermarket}}>
              <label for="all">Todos</label>
              {{#supermarkets}}
                  <input type="radio" id="{{id}}" name="supermarket" value="{{id}}" {{#isSupermarket}}checked{{/isSupermarket}}>
                  <label for="{{id}}">{{name}}</label>
              {{/supermarkets}}
          </div>
      </div>

      <div class="filter-row">
          <div class="filter-item">
              <label for="minPrice">Precio mínimo</label>
              <input type="number" step="0.01" id="minPrice" name="minPrice" placeholder="€"
                  value="{{minPrice}}">
          </div>
          <div class="filter-item">
              <label for="maxPrice">Precio máximo</label>
              <input type="number" step="0.01" id="maxPrice" name="maxPrice" placeholder="€"
                  value="{{maxPrice}}">
          </div>
          <div class="filter-item">
              <span></span>
              <button id="apply-filters" class="clickable clickable-primary">Aplicar</button>
          </div>
      </div>
  </div>
</div> -->



<ng-template #noProducts>
  <p>No products found.</p>
</ng-template>